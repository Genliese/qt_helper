<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>New Qt UI Class</title>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue",
                    Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
                    "Segoe UI Symbol", "Noto Color Emoji";
                margin: 0;
                padding: 0;
                background-color: #1e1e1e;
                color: #d4d4d4;
            }
            .container {
                padding: 20px;
            }
            input,
            select,
            button {
                width: 100%;
                padding: 8px;
                margin-bottom: 10px;
                border: 1px solid #555;
                border-radius: 4px;
                background-color: #3c3c3c;
                color: #d4d4d4;
            }
            button {
                padding: 10px;
                background-color: #007acc;
                color: white;
                border: none;
                border-radius: 4px;
                cursor: pointer;
            }
            button:hover {
                background-color: #005f9e;
            }
            .hidden {
                display: none;
            }
            .gray-option {
                color: gray;
            }
            .disabled {
                background-color: #2e2e2e;
                pointer-events: none;
                opacity: 0.6;
            }
            .list-container {
                display: flex;
                flex-direction: column;
            }
            .list-container > div {
                display: flex;
                padding: 8px;
                border-bottom: 1px solid #555;
                cursor: pointer;
            }
            .list-container > div:nth-child(even) {
                background-color: #2e2e2e;
            }
            .list-container > div > input {
                margin-right: 10px;
                flex-shrink: 0;
                width: 20px; /* 固定宽度 */
                height: 20px; /* 固定高度 */
            }
            label {
                display: flex;
                align-items: center;
            }
            label input[type="checkbox"] {
                margin-right: 8px; /* 设置复选框和文本之间的间距 */
            }
            .highlight {
                background-color: yellow;
                color: black;
            }
            #textArea {
                display: flex;
                height: 400px;
                overflow: auto;
                font-family: monospace;
            }
            .line-numbers {
                text-align: right;
                margin-right: 10px;
                user-select: none;
                color: #888;
                overflow: hidden;
                flex-shrink: 0; /* 禁止行号区域缩小 */
                line-height: 1.5; /* 确保行号和内容行高一致 */
            }
            .content {
                flex-grow: 1;
                overflow: auto;
                white-space: pre;
                overflow-wrap: normal;
                line-height: 1.5; /* 确保内容行高一致 */
            }
            .line-number {
                height: 1.5em; /* 确保行号高度与内容行高一致 */
            }

            .feature-container {
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 5px;
                border: 1px solid #ddd; /* 可选的样式 */
            }

            .prompt-word {
                margin-right: auto; /* 将 prompt-word 向左对齐 */
            }

            .location {
                margin-left: auto; /* 将 location 向右对齐 */
            }
        </style>
    </head>
    <body>
        <div class="container">
            <h1>New Qt UI Class</h1>
            <form id="qtUiForm">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required />

                <label for="filenameBase">Filename base:</label>
                <input type="text" id="filenameBase" name="filenameBase" required />

                <label for="parentClass">Parent class:</label>
                <select id="parentClass" name="parentClass">
                    <option value="QWidget">QWidget</option>
                    <option value="QMainWindow">QMainWindow</option>
                    <option value="QDialog">QDialog</option>
                    <option value="custom" class="gray-option">Custom class</option>
                </select>
                <input
                    type="text"
                    id="customClassName"
                    name="customClassName"
                    class="hidden"
                    placeholder="Enter custom class name"
                />

                <label for="namespace">Namespace:</label>
                <input type="text" id="namespace" name="namespace" />

                <label for="targets">
                    <input type="checkbox" id="targets" name="targets" />
                    Add to targets
                </label>

                <div id="targetContainer" class="disabled">
                    <div class="list-container" id="fileListContainer">
                        <!-- 列表项将动态插入这里 -->
                        <div class="feature-container">
                            <input type="checkbox" />
                            <span class="prompt-word">${feature.prompt_word}</span>
                            <span class="location">${feature.location}</span>
                        </div>
                    </div>
                    <div id="textArea">
                        <div class="line-numbers" id="lineNumbers"></div>
                        <div class="content" id="contentArea" contenteditable="true" readonly></div>
                    </div>
                </div>

                <button type="submit" id="okButton">OK</button>
                <button type="button" id="cancelButton">Cancel</button>
            </form>
        </div>
        <script src="main.js"></script>
    </body>
</html>
